(()=>{var t={69:t=>{let e=0;const s=t=>null!==t&&"object"==typeof t,r=t=>{void 0===t.attrs&&(t.attrs={}),void 0===t.events&&(t.events={}),void 0===t.children&&(t.children=[])},n=t=>Array.isArray(t)?t:[t],o=()=>document.createComment("");let i=[];const c={replaceChild:()=>{}},l=(t,e,s)=>{for(const r of Object.keys(t)){const o=n(t[r]),i=n(e[r]||[]);for(const t of o)i.includes(t)||"function"!=typeof t||s(r,t)}},a=(t,n,d)=>{const h=e=>{t&&t!==e&&i.push([2,t,e]),t=e};if(e++,n!==d)if(null===d)h(o());else if("string"==typeof d||"number"==typeof d)"string"==typeof n||"number"==typeof n?t.data=d:h(document.createTextNode(d));else if(void 0!==d.appendChild)h(d);else{(void 0===t||!s(n)||n&&void 0!==n.appendChild||n.tag!==d.tag)&&(n={tag:null},h(document.createElement(d.tag))),r(n),r(d);for(const e of Object.keys(d.attrs)){const s=n.attrs[e],r=d.attrs[e];if("class"===e){const e=r;Array.isArray(e)?t.className=e.join(" "):t.className=e}else if("style"===e){const e=s||{},n=r;for(const s of Object.keys(n))n[s]!==e[s]&&(t.style[s]=n[s]);for(const s of Object.keys(e))void 0===n[s]&&(t.style[s]="")}else e in t?(t[e]!==r||void 0===s&&s!==r)&&(t[e]=r):s!==r&&t.setAttribute(e,r)}for(const e of Object.keys(n.attrs))void 0===d.attrs[e]&&(e in t?t[e]=null:t.removeAttribute(e));l(d.events,n.events,((e,s)=>{t.addEventListener(e,s)})),l(n.events,d.events,((e,s)=>{t.removeEventListener(e,s)}));const e=n.children,o=d.children,c=e.length,u=o.length;if(u+c>0){const s=n._nodes||[],r=c<u?c:u;let l=0;for(;l<r;l++)e[l]!==o[l]&&(s[l]=a(s[l],e[l],o[l]));if(c<u)for(;l<u;l++){const e=a(void 0,void 0,o[l]);i.push([0,t,e]),s.push(e)}else{for(;l<c;l++)i.push([1,t,s[l]]);s.splice(u,c-u)}d._nodes=s}}return 0==--e&&function(){const t=i.length;for(let e=0;e<t;e++){const t=i[e],s=t[0];if(1===s)t[1].removeChild(t[2]);else if(2===s){const e=t[1],s=o(),r=e.parentNode;null!==r?(r.replaceChild(s,e),t[1]=s,t[3]=r):t[3]=c}}for(let e=0;e<t;e++){const t=i[e],s=t[0];0===s?t[1].appendChild(t[2]):2===s&&t[3].replaceChild(t[2],t[1])}i=[]}(),t};class d{constructor(...t){this.jdom=void 0,this.node=void 0,this.event={source:null,handler:()=>{}},this.init(...t),void 0===this.node&&this.render()}static from(t){return class extends d{init(...t){this.args=t}compose(){return t(...this.args)}}}init(){}get record(){return this.event.source}bind(t,e){if(this.unbind(),!(t instanceof b))throw new Error(`cannot bind to ${t}, which is not an instance of Evented.`);this.event={source:t,handler:e},t.addHandler(e)}unbind(){this.record&&this.record.removeHandler(this.event.handler),this.event={source:null,handler:()=>{}}}remove(){this.unbind()}compose(){return null}preprocess(t){return t}render(t){t=t||this.record&&this.record.summarize();const e=this.preprocess(this.compose(t),t);if(void 0===e)throw new Error(this.constructor.name+".compose() returned undefined.");try{this.node=a(this.node,this.jdom,e)}catch(t){console.error("rendering error.",t)}return this.jdom=e}}const h=new Set;let u;const f=new WeakMap,m=(t,e)=>t+"{"+e+"}",p=(t,e)=>{let s=[],r="";for(const n of Object.keys(e)){const o=e[n];if("@"===n[0])n.startsWith("@media")?s.push(m(n,p(t,o).join(""))):s.push(m(n,p("",o).join("")));else if("object"==typeof o){const e=n.split(",");for(const r of e)if(r.includes("&")){const e=r.replace(/&/g,t);s=s.concat(p(e,o))}else s=s.concat(p(t+" "+r,o))}else r+=n+":"+o+";"}return r&&s.unshift(m(t,r)),s},v=t=>class extends t{styles(){return{}}preprocess(t,e){return s(t)&&(t.attrs=t.attrs||{},t.attrs.class=n(t.attrs.class||[]),t.attrs.class.push((t=>{const e=(t=>{if(!f.has(t)){const e=JSON.stringify(t);let s=e.length,r=1989;for(;s;)r=13*r^e.charCodeAt(--s);f.set(t,"_torus"+(r>>>0))}return f.get(t)})(t);let s=0;if(!h.has(e)){u||(()=>{const t=document.createElement("style");t.setAttribute("data-torus",""),document.head.appendChild(t),u=t.sheet})();const r=p("."+e,t);for(const t of r)u.insertRule(t,s++);h.add(e)}return e})(this.styles(e)))),t}};class g extends d{get itemClass(){return d}init(t,...e){this.store=t,this.items=new Map,this.filterFn=null,this.itemData=e,this.bind(this.store,(()=>this.itemsChanged()))}itemsChanged(){const t=this.store.summarize(),e=this.items;for(const s of e.keys())t.includes(s)||(e.get(s).remove(),e.delete(s));for(const s of t)e.has(s)||e.set(s,new this.itemClass(s,(()=>this.store.remove(s)),...this.itemData));let s=[...e.entries()];null!==this.filterFn&&(s=s.filter((t=>this.filterFn(t[0])))),s.sort(((e,s)=>t.indexOf(e[0])-t.indexOf(s[0]))),this.items=new Map(s),this.render()}filter(t){this.filterFn=t,this.itemsChanged()}unfilter(){this.filterFn=null,this.itemsChanged()}get components(){return[...this]}get nodes(){return this.components.map((t=>t.node))}[Symbol.iterator](){return this.items.values()}remove(){super.remove();for(const t of this.items.values())t.remove()}compose(){return{tag:"ul",children:this.nodes}}}class b{constructor(){this.handlers=new Set}summarize(){}emitEvent(){const t=this.summarize();for(const e of this.handlers)e(t)}addHandler(t){this.handlers.add(t),t(this.summarize())}removeHandler(t){this.handlers.delete(t)}}class y extends b{constructor(t,e={}){super(),s(t)&&(e=t,t=null),this.id=t,this.data=e}update(t){Object.assign(this.data,t),this.emitEvent()}get(t){return this.data[t]}summarize(){return Object.assign({id:this.id},this.data)}serialize(){return this.summarize()}}class x extends b{constructor(t=[]){super(),this.reset(t)}get recordClass(){return y}get comparator(){return null}create(t,e){return this.add(new this.recordClass(t,e))}add(t){return this.records.add(t),this.emitEvent(),t}remove(t){return this.records.delete(t),this.emitEvent(),t}[Symbol.iterator](){return this.records.values()}find(t){for(const e of this.records)if(e.id===t)return e;return null}reset(t){this.records=new Set(t),this.emitEvent()}summarize(){return[...this.records].map((t=>[this.comparator?this.comparator(t):null,t])).sort(((t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0)).map((t=>t[1]))}serialize(){return this.summarize().map((t=>t.serialize()))}}const j=t=>{let e;const s=[];for(;null!==e;)if(e=/:\w+/.exec(t),e){const r=e[0];s.push(r.substr(1)),t=t.replace(r,"(.+)")}return[new RegExp(t),s]},w={render:a,Component:d,Styled:v,StyledComponent:v(d),List:g,ListOf:t=>class extends g{get itemClass(){return t}},Record:y,Store:x,StoreOf:t=>class extends x{get recordClass(){return t}},Router:class extends b{constructor(t){super(),this.routes=Object.entries(t).map((([t,e])=>[t,...j(e)])),this.lastMatch=["",null],this._cb=()=>this.route(location.pathname),window.addEventListener("popstate",this._cb),this._cb()}summarize(){return this.lastMatch}go(t,{replace:e=!1}={}){window.location.pathname!==t&&(e?history.replaceState(null,document.title,t):history.pushState(null,document.title,t),this.route(t))}route(t){for(const[e,s,r]of this.routes){const n=s.exec(t);if(null!==n){const t={},s=n.slice(1);r.forEach(((e,r)=>t[e]=s[r])),this.lastMatch=[e,t];break}}this.emitEvent()}remove(){window.removeEventListener("popstate",this._cb)}}};"object"==typeof window&&(window.Torus=w),t.exports&&(t.exports=w)},138:(t,e,s)=>{const{render:r,Component:n,Styled:o,StyledComponent:i,List:c,ListOf:l,Record:a,Store:d,StoreOf:h,Router:u}=s(69),{jdom:f,css:m}=s(859);t.exports={render:r,Component:n,Styled:o,StyledComponent:i,List:c,ListOf:l,Record:a,Store:d,StoreOf:h,Router:u,jdom:f,css:m}},859:t=>{const e=t=>null!==t&&"object"==typeof t,s=(t,e)=>t.substr(0,t.length-e.length),r=(t,e)=>{let s=t[0];for(let r=1,n=e.length;r<=n;r++)s+=e[r-1]+t[r];return s};class n{constructor(t){this.idx=0,this.content=t,this.len=t.length}next(){const t=this.content[this.idx++];return void 0===t&&(this.idx=this.len),t}back(){this.idx--}readUpto(t){const e=this.content.substr(this.idx).indexOf(t);return this.toNext(e)}readUntil(t){const e=this.content.substr(this.idx).indexOf(t)+t.length;return this.toNext(e)}toNext(t){const e=this.content.substr(this.idx);if(-1===t)return this.idx=this.len,e;{const s=e.substr(0,t);return this.idx+=t,s}}clipEnd(t){return!!this.content.endsWith(t)&&(this.content=s(this.content,t),!0)}}const o=t=>{let e="";for(let s=0,r=t.length;s<r;s++)e+="-"===t[s]?t[++s].toUpperCase():t[s];return e},i=t=>{if("!"===(t=t.trim())[0])return{jdom:null,selfClosing:!0};if(!t.includes(" ")){const e=t.endsWith("/");return{jdom:{tag:e?s(t,"/"):t,attrs:{},events:{}},selfClosing:e}}const e=new n(t),r=e.clipEnd("/");let i="",c=!1,l=!1;const a=[];let d=0;const h=t=>{i=i.trim(),(""!==i||t)&&(a.push({type:d,value:i}),c=!1,i="")};for(let t=e.next();void 0!==t;t=e.next())switch(t){case"=":l?i+=t:(h(),c=!0,d=1);break;case" ":l?i+=t:c||(h(),d=0);break;case"\\":l&&(t=e.next(),i+=t);break;case'"':l?(l=!1,h(!0),d=0):1===d&&(l=!0);break;default:i+=t,c=!1}h();let u="";const f={},m={};u=a.shift().value;let p=null,v=a.shift();const g=()=>{p=v,v=a.shift()};for(;void 0!==v;){if(1===v.type){const t=p.value;let e=v.value.trim();if(t.startsWith("on"))m[t.substr(2)]=[e];else if("class"===t)""!==e&&(f[t]=e.split(" "));else if("style"===t){e.endsWith(";")&&(e=e.substr(0,e.length-1));const s={};for(const t of e.split(";")){const e=t.indexOf(":"),r=t.substr(0,e),n=t.substr(e+1);s[o(r.trim())]=n.trim()}f[t]=s}else f[t]=e;g()}else p&&(f[p.value]=!0);g()}return p&&0===p.type&&(f[p.value]=!0),{jdom:{tag:u,attrs:f,events:m},selfClosing:r}},c=t=>{const e=[];let s=null,r=!1;const n=()=>{r&&""===s.trim()||s&&e.push(s),s=null,r=!1},o=t=>{!1===r&&(n(),r=!0,s=""),s+=t};for(let e=t.next();void 0!==e;e=t.next())if("<"===e){if(n(),"/"===t.next()){t.readUntil(">");break}{t.back();const e=i(t.readUpto(">"));t.next(),s=e&&e.jdom,e.selfClosing||null===s||(s.children=c(t))}}else o("&"===e?(l=e+t.readUntil(";"),String.fromCodePoint(+/&#(\w+);/.exec(l)[1])):e);var l;return n(),e},l=new Map,a=/jdom_tpl_obj_\[(\d+)\]/,d=(t,e)=>{if((t=>"string"==typeof t&&t.includes("jdom_tpl_"))(t)){const s=a.exec(t),r=t.split(s[0]),n=s[1],o=d(r[1],e);let i=[];return""!==r[0]&&i.push(r[0]),Array.isArray(e[n])?i=i.concat(e[n]):i.push(e[n]),0!==o.length&&(i=i.concat(o)),i}return""!==t?[t]:[]},h=(t,s)=>{const r=[];for(const n of t)for(const t of d(n,s))e(t)&&m(t,s),r.push(t);const n=r[0],o=r[r.length-1];return"string"==typeof n&&""===n.trim()&&r.shift(),"string"==typeof o&&""===o.trim()&&r.pop(),r},u=(t,e)=>{if(t.length<14)return t;{const s=a.exec(t);if(null===s)return t;if(t.trim()===s[0])return e[s[1]];{const r=t.split(s[0]);return r[0]+e[s[1]]+u(r[1],e)}}},f=(t,e)=>{for(let s=0,r=t.length;s<r;s++){const r=t[s];"string"==typeof r?t[s]=u(r,e):Array.isArray(r)?f(r,e):m(r,e)}},m=(t,s)=>{if(!(t instanceof Node))for(const r of Object.keys(t)){const n=t[r];"string"==typeof n?t[r]=u(n,s):Array.isArray(n)?"children"===r?t.children=h(n,s):f(n,s):e(n)&&m(n,s)}},p=t=>{const e={};let s=0,r=["",""];const n=()=>{"string"==typeof r[1]?e[r[0].trim()]=r[1].trim():e[r[0].trim()]=r[1],r=["",""]};t.readUntil("{");for(let e=t.next();void 0!==e&&"}"!==e;e=t.next()){const o=r[0];switch(e){case'"':case"'":for(r[s]+=e+t.readUntil(e);r[s].endsWith("\\"+e);)r[s]+=t.readUntil(e);break;case":":""===o.trim()||o.includes("&")||o.includes("@")||o.includes(":")?r[s]+=e:s=1;break;case";":s=0,n();break;case"{":t.back(),r[1]=p(t),n();break;default:r[s]+=e}}return""!==r[0].trim()&&n(),e},v=new Map,g={jdom:(t,...e)=>{const s=t.join("jdom_tpl_joiner");try{if(!l.has(s)){const o=e.map(((t,e)=>`jdom_tpl_obj_[${e}]`)),i=new n(r(t.map((t=>t.replace(/\s+/g," "))),o)),a=c(i)[0],d=typeof a,h=JSON.stringify(a);l.set(s,(t=>{if("string"===d)return u(a,t);if("object"===d){const e={},s=JSON.parse(h);return m(Object.assign(e,s),t),e}return null}))}return l.get(s)(e)}catch(s){return console.error(`jdom parse error.\ncheck for mismatched brackets, tags, quotes.\n${r(t,e)}\n${s.stack||s}`),""}},css:(t,...e)=>{const s=r(t,e).trim();return v.has(s)||v.set(s,p(new n("{"+s+"}"))),v.get(s)}};"object"==typeof window&&Object.assign(window,g),t.exports&&(t.exports=g)}},e={};!function s(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,s),o.exports}(138)})();